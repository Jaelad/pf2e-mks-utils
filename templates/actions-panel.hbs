<form id="sequencer-effects-form" class="dialog-content" onsubmit="event.preventDefault();" autocomplete="off">

	<style>

		.fxmaster-groups-list,
		.fxmaster-list {
			overflow-y: auto;
			padding: 0;
			margin: 0;
		}

		.fxmaster-groups-list__item,
		.fxmaster-list__item {
			padding: 4px;
			list-style: none;
		}

		.fxmaster-groups-list__item {
			border-bottom: 2px solid var(--color-border-dark-3, #333);
		}

		.fxmaster-list__item {
			border-bottom: 1px solid var(--color-border-dark-3, #333);
		}

		.fxmaster-groups-list__item:last-of-type,
		.fxmaster-list__item:last-of-type {
			border-bottom: none;
		}

		.fxmaster-groups-list__collapse,
		.fxmaster-list__collapse {
			font-size: var(--font-size-16, 16px);
			cursor: pointer;
			text-indent: 5px;
		}

		.fxmaster-groups-list__collapse:hover,
		.fxmaster-list__collapse:hover {
			text-shadow: 0 0 4px var(--color-shadow-primary, #ff0000);
		}

		.fxmaster-groups-list__collapsible,
		.fxmaster-list__collapsible {
			overflow: hidden;
			padding: 0;
			margin: 0;
		}

		.fxmaster-groups-list__collapsible--collapsed,
		.fxmaster-list__collapsible--collapsed {
			display: none;
		}

		.fxmaster-list__icon {
			border: none;
			flex: 0 0 18px;
			text-align: center;
			line-height: var(--line-height-20, 20px);
			font-size: var(--font-size-16, 16px);
		}

		.effects-container {
			height: 100%;
			width: 100%;
			display: flex;
		}

		.howto-container {
			max-width: 300px;
		}

		.howto-container li {
			list-style: none;
			margin-bottom: 0.5rem;
		}

		.effects {
			padding: 5px 0;
			max-height: calc(425px - 5rem);
			overflow-y: scroll;
			overflow-x: hidden;
			flex: 1;
			flex-direction: row;
		}

		.effect {
			display: flex;
			flex: 1 0 auto;
		}

		.effect > button {
			flex: 0;
			font-size: 0.7rem;
			height: 1.25rem;
			line-height: normal;
			margin-right: 5px;
		}

		.btn_end {
			min-width: 1.5rem;
		}

		.effect > div {
			flex: 1;
			line-height: 1.25rem;
		}

		.hover-highlight:hover > .hover-text {
			color: #000;
			text-shadow: 0 0 10px red;
		}

		.column {
			display: inline-flex;
			flex-direction: column;
		}

		.row {
			display: inline-flex;
			flex-direction: row;
		}

		.flex-grow {
			flex: 1;
		}

		.flex-shrink {
			flex: 0;
		}

		.settings {
			display: flex;
			flex-direction: row;
			align-content: flex-end;
			margin-bottom: 0.5rem;
		}

		.input-column, .label-column {
			display: inline-flex;
			flex-direction: column;
		}

		.input-column {
			flex: 0 1 25%;
			align-items: flex-end;
		}

		.input-row, .label-row {
			display: inline-flex;
			flex: 0 1 1.666rem;
		}

		.label-row {
			padding-left: 0.2rem;
			align-items: center;
		}

		.settings input {
			max-width: 40px;
		}

		.user-select option:checked {
			background: #1e90ff;
			color: white;
		}

		.file-settings label, .user-settings label {
			flex: 0 1 15%;
			align-self: center;
		}

		.file-settings input, .user-settings select {
			flex: 1;
		}

		.small-button {
			flex: 0 0 24px;
			line-height: 24px;
			margin: -1px 0 -1px 4px;
			order: 99;
		}

		.activate-layer {
			margin: 0;
		}

		.w-100 {
			width: 100%;
		}

		.mb-1 {
			margin-bottom: 0.25rem;
		}

		.mb-2 {
			margin-bottom: 0.5rem;
		}

		.sheet-tabs {
			min-width: 230px;
		}

		.tabs .item.active {
			text-decoration: underline;
			text-shadow: 0 0 10px var(--color-shadow-primary);
		}

	</style>

	<nav class="sheet-tabs tabs mb-1" data-group="actions-panel">
		<a class="item active" data-tab="encounter"><i class="fas fa-fist-raised"></i> {{ localize "PF2E.TabActionsEncounterLabel" }}</a>
		<a class="item" data-tab="exploration"><i class="fas fa-campground"></i> {{ localize "PF2E.TabActionsExplorationLabel" }}</a>
		<a class="item" data-tab="downtime"><i class="fas fa-bath"></i> {{ localize "PF2E.TabActionsDowntimeLabel" }}</a>
	</nav>

	<hr>

	<section id="actions-panel-tabs" class="content">
		<div class="tab effects-container" data-tab="encounter" data-group="actions-panel">
			<ol class="fxmaster-groups-list">
				{{#each weatherEffectGroups as |group groupId|}}
					<li class="fxmaster-groups-list__item">
						<header class="flexrow">
							<label class="fxmaster-groups-list__collapse">{{localize group.label}}
								<i class="fxmaster-groups-list__collapse-icon fa fa-angle-{{#if group.expanded}}down{{else}}up{{/if}}"></i>
							</label>
						</header>
						<ol	class="fxmaster-groups-list__collapsible{{#unless group.expanded}} fxmaster-groups-list__collapsible--collapsed{{/unless}} fxmaster-list">
							{{#each group.effects as |effect type|}}
								<li class="fxmaster-list__item">
									<header class="flexrow">
										{{#if effect.icon}}
											<img class="fxmaster-list__icon" width="24" height="24" src="{{effect.icon}}">
										{{/if}}
										<a data-action="seek">{{localize effect.label}} <i class="fas fa-bolt"></i></a>
									</header>
								</li>
							{{/each}}
						</ol>
					</li>
				{{/each}}
			</ol>
		</div>
		<div class="tab effects-container" data-tab="exploration" data-group="actions-panel">
			Exploration
		</div>
		<div class="tab effects-container" data-tab="downtime" data-group="actions-panel">
			Downtime
		</div>
	</section>

</form>